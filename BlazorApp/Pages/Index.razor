@page "/"

<h1>Hello, world!</h1>

Welcome to your new app.
<br />

add value :
<input placeholder="Something todo" @bind="@value" />
<Counter IncrementAmount="@value" />

<h1 style="font-style:@_headingFontStyle">@_headingText</h1>

@message
@for (var i = 1; i < 4; i++)
{
    var buttonNumber = i;

    <button class="btn btn-primary"
            @onclick="@(e => UpdateHeading(e, buttonNumber))">
        Button #@i
    </button>
}
<br />
Password:

<input @oninput="OnPasswordChanged"
       required
       type="@(showPassword ? "text" : "password")"
       value="@Password" />

<button class="btn btn-primary" @onclick="ToggleShowPassword">
    @showAndHide password
</button>


@code{
    public int value;

    private string _headingFontStyle = "italic";
    private string _headingText = "Put on your new Blazor!";

    [Parameter]
    public int ParentYear { get; set; } = 1978;

    private string message = "Select a button to learn its position.";

    private void UpdateHeading(MouseEventArgs e, int buttonNumber)
    {
        message = $"You selected Button #{buttonNumber} at " +
            $"mouse position: {e.ClientX} X {e.ClientY}.";
    }

    private bool showPassword;
    private string showAndHide = "show";

    [Parameter]
    public string Password { get; set; }

    [Parameter]
    public EventCallback<string> PasswordChanged { get; set; }

    private Task OnPasswordChanged(ChangeEventArgs e)
    {
        Password = e.Value.ToString();

        return PasswordChanged.InvokeAsync(Password);
    }

    private void ToggleShowPassword()
    {
        showPassword = !showPassword;
        if(showPassword)
        {
            showAndHide = "hide";
        }
        else
        {
            showAndHide = "show";
        }

    }
}